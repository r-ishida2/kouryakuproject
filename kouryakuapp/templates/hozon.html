//djangoå¯¾å¿œãƒ¡ã‚¤ãƒ³
<article class="guide">
    <h3>ã‚¹ãƒ†ãƒ¼ã‚¸1ã®æ”»ç•¥</h3>
    <p>ã‚¹ãƒ†ãƒ¼ã‚¸1ã®æ”»ç•¥ãƒã‚¤ãƒ³ãƒˆã‚’è©³ã—ãè§£èª¬ã—ã¾ã™ã€‚</p>
    <div class="interactions">
        <form method="POST" action="#">
            {% csrf_token %}
            <button type="submit" class="like-button">ğŸ‘{{ post.like_count }}</button>
        </form>
        <div class="comments">
            <h4>ã‚³ãƒ¡ãƒ³ãƒˆ</h4>
            <ul class="comment-list">
                {% for comment in post.comments.all %}
                <li>{{ comment.content }} - <small>{{ comment.author }}</small></li>
                {% endfor %}
            </ul>
            <form method="POST" action="#">
                {% csrf_token %}
                <input type="text" name="content" class="comment-input" placeholder="ã‚³ãƒ¡ãƒ³ãƒˆã‚’å…¥åŠ›" required>
                <button type="submit">é€ä¿¡</button>
            </form>
        </div>
    </div>
</article>


//scriptä¿å­˜
<script>
    document.querySelectorAll('.like-button').forEach(button => {
        button.addEventListener('click', () => {
            const likeCount = button.querySelector('.like-count');
            likeCount.textContent = parseInt(likeCount.textContent) + 1;
        });
    });

    document.querySelectorAll('.comment-form').forEach(form => {
        form.addEventListener('submit', (event) => {
            event.preventDefault();
            const commentInput = form.querySelector('.comment-input');
            const commentList = form.parentElement.querySelector('.comment-list');

            if (commentInput.value.trim()) {
                const newComment = document.createElement('li');
                newComment.textContent = commentInput.value;
                commentList.appendChild(newComment);
                commentInput.value = '';
            }
        });
    });
</script>